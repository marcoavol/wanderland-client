<form [formGroup]="settingsForm" style="position: relative;">
    <button type="button" class="btn btn-outline-primary" style="margin: 0 auto; position: absolute; top: 16px; right: 16px" (click)="offcanvas.close('Close click')">
        <i class="bi bi-x-lg"></i>
    </button>

    <h2 class="title">Filtern nach:</h2>

    <section>
        <p>Streckentypen</p>
        <div class="checkbox-group">
            <div  class="form-check form-switch">
                <label>
                    national
                    <input formControlName="national" type="checkbox" class="form-check-input"/>
                </label>
            </div>
            <div class="form-check form-switch">
                <label>
                    regional
                    <input formControlName="regional" type="checkbox" class="form-check-input"/>
                </label>
            </div>
            <div class="form-check form-switch">
                <label>
                    lokal
                    <input formControlName="local" type="checkbox" class="form-check-input"/>
                </label>
            </div>
        </div>
    </section>
    
    <section>
        <p>Etappen</p>
        <div class="form-check form-switch">
            <label>
                Etappen berücksichtigen
                <input formControlName="includeStages" type="checkbox" class="form-check-input" (change)="handleIncludeStagesChange()"/>
            </label>
        </div>
    </section>

    <section>
        <p>Dauer {{settingsForm.value.includeStages ? '[hh:mm]' : '[dd:hh:mm]'}}</p>
        <div>
            <app-range-slider
                [min]="0" [max]="rangeSliderMaxValues.durationMax" [step]="15" 
                [initialLower]="settingsForm.value.durationMin" 
                [initialUpper]="settingsForm.value.durationMax" 
                unit="DaysHoursMinutes"
                (onRangeChanged)="handleDurationRangeChange($event)">
            </app-range-slider>
        </div>
    </section>

    <section>
        <p>Distanz [km]</p>
        <div>
            <app-range-slider
                [min]="0" [max]="rangeSliderMaxValues.distanceMax" [step]="500" 
                [initialLower]="settingsForm.value.distanceMin" 
                [initialUpper]="settingsForm.value.distanceMax" 
                unit="Kilometers"
                (onRangeChanged)="handleDistanceRangeChange($event)">
            </app-range-slider>
        </div>
    </section>

    <section>
        <p>Aufstieg [m]</p>
        <div>
            <app-range-slider
                [min]="0" [max]="rangeSliderMaxValues.elevationMax" [step]="50" 
                [initialLower]="settingsForm.value.elevationMin" 
                [initialUpper]="settingsForm.value.elevationMax" 
                unit="Meters"
                (onRangeChanged)="handleElevationRangeChange($event)">
            </app-range-slider>
        </div>
    </section>

    <section>
        <p>Abstieg [m]</p>
        <div>
            <app-range-slider
                [min]="0" [max]="rangeSliderMaxValues.descendingMax" [step]="50" 
                [initialLower]="settingsForm.value.descendingMin" 
                [initialUpper]="settingsForm.value.descendingMax" 
                unit="Meters"
                (onRangeChanged)="handleDescendingRangeChange($event)">
            </app-range-slider>
        </div>
    </section>

    <section>
        <p>Technik</p>
        <div class="checkbox-group">
            <div  class="form-check form-switch">
                <label>
                    leicht
                    <input formControlName="skillsEasy" type="checkbox" class="form-check-input"/>
                </label>
            </div>
            <div class="form-check form-switch">
                <label>
                    mittel
                    <input formControlName="skillsMedium" type="checkbox" class="form-check-input"/>
                </label>
            </div>
            <div class="form-check form-switch">
                <label>
                    schwer
                    <input formControlName="skillsHard" type="checkbox" class="form-check-input" />
                </label>
            </div>
        </div>
    </section>

    <section>
        <p>Kondition</p>
        <div class="checkbox-group">
            <div  class="form-check form-switch">
                <label>
                    leicht
                    <input formControlName="fitnessEasy" type="checkbox" class="form-check-input"/>
                </label>
            </div>
            <div class="form-check form-switch">
                <label>
                    mittel
                    <input formControlName="fitnessMedium" type="checkbox" class="form-check-input"/>
                </label>
            </div>
            <div class="form-check form-switch">
                <label>
                    schwer
                    <input formControlName="fitnessHard" type="checkbox" class="form-check-input" />
                </label>
            </div>
        </div>
    </section>

    <div style="display: flex; align-items: center; margin-top: 16px">
        <button type="button" class="btn btn-outline-primary" style="margin: 0 auto;" (click)="resetFiltersToDefault()">
            <i class="bi bi-arrow-counterclockwise"></i>
            Zurücksetzen
        </button>
    </div>
</form>
